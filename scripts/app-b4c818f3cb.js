!function(){"use strict";angular.module("4pixelsTalkabit",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ngResource","ui.router","ui.bootstrap","toastr"])}(),function(){"use strict";function e(e,t,a){function o(e){s=e,t.debug(s),p=document.querySelector("#video"),attachMediaStream(p,s),p.muted=!0,p.play()}function i(e){console.log(e)}function n(){t.debug(d),t.debug(d.audio.path instanceof Blob),t.debug(d.video.path instanceof Blob),d.audio.path instanceof Blob&&d.video.path instanceof Blob&&a.postVideoAudioMergeForm(d).then(function(e){t.info("Merge Result"),t.debug(e),$("#videoResult").attr("src",e.file)})}function r(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}var s,l,c,u=this,d={video:{path:null},audio:{path:null}},p=null,m={video:!0,audio:!0},v=!!navigator.mozGetUserMedia;t.debug("Is Firefox ? -> "+v),requestUserMedia(m).then(o,i),e.$on("$destroy",function(){console.log("DESTROY",p),p.pause(),p.src="",s.active&&s.getTracks()[0].stop()}),u.recordManager=function(){d={video:{path:null},audio:{path:null}},t.info("recordManager"),t.debug(d),t.debug(d.audio.path),t.debug(d.video.path);var e={mimeType:"video/webm",bitsPerSecond:128e3};console.log(webrtcDetectedBrowser),"firefox"==webrtcDetectedBrowser||"chrome"===webrtcDetectedBrowser&&(e={recorderType:WhammyRecorder,bitsPerSecond:128e3}),l=RecordRTC(s,e),t.debug(l),l.setRecordingDuration(5e3).onRecordingStopped(function(e){t.debug("VIDEO STOP",e),$("#videoResult").attr("src",e),d.video.path=new File([l.getBlob()],r()),n()}),c=RecordRTC(s,{onAudioProcessStarted:function(){v||l.startRecording()}}),c.setRecordingDuration(5e3).onRecordingStopped(function(e){t.debug("AUDIO STOP",e),$("#audioResult").attr("src",e),d.audio.path=new File([c.getBlob()],r()),n()}),v?l.startRecording():c.startRecording()}}e.$inject=["$scope","$log","fourPixelsApi"],angular.module("4pixelsTalkabit").controller("RecordController",e)}(),function(){"use strict";function e(e){var t=this;t.hello="HEY",t.items=[1,2,3,4],t.$log=e,e.debug(t)}e.$inject=["$log"],angular.module("4pixelsTalkabit").controller("PopularController",e)}(),function(){"use strict";function e(e,t,a){function o(){n(),e(function(){r.classAnimation="rubberBand"},4e3)}function i(){a.info('Fork <a href="https://github.com/Swiip/generator-gulp-angular" target="_blank"><b>generator-gulp-angular</b></a>'),r.classAnimation=""}function n(){r.awesomeThings=t.getTec(),angular.forEach(r.awesomeThings,function(e){e.rank=Math.random()})}var r=this;r.awesomeThings=[],r.classAnimation="",r.creationDate=1451200304137,r.showToastr=i,o()}e.$inject=["$timeout","webDevTec","toastr"],angular.module("4pixelsTalkabit").controller("MainController",e)}(),function(){"use strict";function e(){function e(){return t}var t=[{title:"AngularJS",url:"https://angularjs.org/",description:"HTML enhanced for web apps!",logo:"angular.png"},{title:"BrowserSync",url:"http://browsersync.io/",description:"Time-saving synchronised browser testing.",logo:"browsersync.png"},{title:"GulpJS",url:"http://gulpjs.com/",description:"The streaming build system.",logo:"gulp.png"},{title:"Jasmine",url:"http://jasmine.github.io/",description:"Behavior-Driven JavaScript.",logo:"jasmine.png"},{title:"Karma",url:"http://karma-runner.github.io/",description:"Spectacular Test Runner for JavaScript.",logo:"karma.png"},{title:"Protractor",url:"https://github.com/angular/protractor",description:"End to end test framework for AngularJS applications built on top of WebDriverJS.",logo:"protractor.png"},{title:"Bootstrap",url:"http://getbootstrap.com/",description:"Bootstrap is the most popular HTML, CSS, and JS framework for developing responsive, mobile first projects on the web.",logo:"bootstrap.png"},{title:"Angular UI Bootstrap",url:"http://angular-ui.github.io/bootstrap/",description:"Bootstrap components written in pure AngularJS by the AngularUI Team.",logo:"ui-bootstrap.png"},{title:"Sass (Ruby)",url:"http://sass-lang.com/",description:"Original Syntactically Awesome StyleSheets implemented in Ruby",logo:"ruby-sass.png"}];this.getTec=e}angular.module("4pixelsTalkabit").service("webDevTec",e)}(),function(){"use strict";function e(){function e(e){var t=this;t.relativeDate=e(t.creationDate).fromNow()}e.$inject=["moment"];var t={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{creationDate:"="},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("4pixelsTalkabit").directive("acmeNavbar",e)}(),function(){"use strict";function e(e){function t(t,a,o,i){var n,r=e(a[0],{typeSpeed:40,deleteSpeed:40,pauseDelay:800,loop:!0,postfix:" "});a.addClass("acme-malarkey"),angular.forEach(t.extraValues,function(e){r.type(e).pause()["delete"]()}),n=t.$watch("vm.contributors",function(){angular.forEach(i.contributors,function(e){r.type(e.login).pause()["delete"]()})}),t.$on("$destroy",function(){n()})}function a(e,t){function a(){return o().then(function(){e.info("Activated Contributors View")})}function o(){return t.getContributors(10).then(function(e){return i.contributors=e,i.contributors})}var i=this;i.contributors=[],a()}a.$inject=["$log","githubContributor"];var o={restrict:"E",scope:{extraValues:"="},template:"&nbsp;",link:t,controller:a,controllerAs:"vm"};return o}e.$inject=["malarkey"],angular.module("4pixelsTalkabit").directive("acmeMalarkey",e)}(),function(){"use strict";function e(e,t){function a(a){function i(e){return e.data}function n(t){e.error("XHR Failed for getContributors.\n"+angular.toJson(t.data,!0))}return a||(a=30),t.get(o+"/contributors?per_page="+a).then(i)["catch"](n)}var o="https://api.github.com/repos/Swiip/generator-gulp-angular",i={apiHost:o,getContributors:a};return i}e.$inject=["$log","$http"],angular.module("4pixelsTalkabit").factory("githubContributor",e)}(),function(){"use strict";function e(e,t){function a(){function a(e){return e.data}function o(t){e.error("XHR Failed for getContributors.\n"+angular.toJson(t.data,!0))}return t.get(i+"/videoaudio/merge").then(a)["catch"](o)}function o(a){function o(e){return e.data}function n(t){e.error("XHR Failed for getContributors.\n"+angular.toJson(t.data,!0))}e.debug("SEND",a);var r=new FormData;return r.append("MergeFile[video][path]",a.video.path),r.append("MergeFile[audio][path]",a.audio.path),t.post(i+"/videoaudio/merge",r,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(o)["catch"](n)}var i="https://4pixels.co/api/talkabit",n={apiHost:i,getVideoAudioMergeForm:a,postVideoAudioMergeForm:o};return n}e.$inject=["$log","$http"],angular.module("4pixelsTalkabit").factory("fourPixelsApi",e)}(),function(){"use strict";function e(e){e.debug("runBlock end")}e.$inject=["$log"],angular.module("4pixelsTalkabit").run(e)}(),function(){"use strict";function e(e,t){e.state("popular",{url:"/popular",views:{body:{templateUrl:"app/views/popular/popular.html",controller:"PopularController",controllerAs:"popular"},footer:{templateUrl:"app/views/commons/footer.html"}}}).state("record",{url:"/record",views:{body:{templateUrl:"app/views/record/record.html",controller:"RecordController",controllerAs:"record"},footer:{templateUrl:"app/views/record/footer.html"}}}).state("login",{url:"/login",views:{body:{templateUrl:"app/views/login/login.html"}}}),t.otherwise("/popular")}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("4pixelsTalkabit").config(e)}(),function(){"use strict";angular.module("4pixelsTalkabit").constant("malarkey",malarkey).constant("moment",moment)}(),function(){"use strict";function e(e,t){e.debugEnabled(!0),t.allowHtml=!0,t.timeOut=3e3,t.positionClass="toast-top-right",t.preventDuplicates=!0,t.progressBar=!0}e.$inject=["$logProvider","toastrConfig"],angular.module("4pixelsTalkabit").config(e)}(),angular.module("4pixelsTalkabit").run(["$templateCache",function(e){e.put("app/components/navbar/navbar.html",'<nav class="navbar navbar-static-top navbar-inverse"><div class="container-fluid"><div class="navbar-header"><a class="navbar-brand" href="https://github.com/Swiip/generator-gulp-angular"><span class="glyphicon glyphicon-home"></span> Gulp Angular</a></div><div class="collapse navbar-collapse" id="bs-example-navbar-collapse-6"><ul class="nav navbar-nav"><li class="active"><a ng-href="#">Home</a></li><li><a ng-href="#">About</a></li><li><a ng-href="#">Contact</a></li></ul><ul class="nav navbar-nav navbar-right acme-navbar-text"><li>Application was created {{ vm.relativeDate }}.</li></ul></div></div></nav>'),e.put("app/views/commons/footer.html",'<div class="navbar navbar-default navbar-fixed-bottom" role="navigation"><div class="container"><div class="row"><div class="col-xs-4 text-center"><a ui-sref="home"><i class="fa fa-home fa-3x"></i></a></div><div class="col-xs-4 text-center"><a ui-sref="record"><i class="fa fa-circle-thin fa-3x"></i></a></div><div class="col-xs-4 text-center"><a ui-sref="home"><i class="fa fa-user fa-3x"></i></a></div></div></div></div>'),e.put("app/views/login/login.html",'<div class="container"><article id="login" class="panel panel-default"><div class="panel-body text-center"><h1>Talkabit</h1><p>Create an account or Log In with</p><p>Terms & Privacy</p></div><a href="#login" class="connect facebook"><div class="connect_icon"><i class="fa fa-facebook"></i></div><div class="connect_context"><span><strong>Facebook</strong></span></div></a> <a href="#login" class="connect googleplus"><div class="connect_icon"><i class="fa fa-google-plus"></i></div><div class="connect_context"><span><strong>Google+</strong></span></div></a></article></div>'),e.put("app/views/main/main.html",'<div><acme-navbar creation-date="main.creationDate"></acme-navbar></div><div class="container"><div class="jumbotron text-center"><h1>\'Allo, \'Allo!</h1><p class="lead"><img src="assets/images/yeoman.png" alt="I\'m Yeoman"><br>Always a pleasure scaffolding your apps.</p><p class="animated infinite" ng-class="main.classAnimation"><button type="button" class="btn btn-lg btn-success" ng-click="main.showToastr()">Splendid Toastr</button></p><p>With â™¥ thanks to the contributions of<acme-malarkey extra-values="[\'Yeoman\', \'Gulp\', \'Angular\']"></acme-malarkey></p></div><div class="row"><div class="col-sm-6 col-md-4" ng-repeat="awesomeThing in main.awesomeThings | orderBy:\'rank\'"><div class="thumbnail"><img class="pull-right" ng-src="assets/images/{{ awesomeThing.logo }}" alt="{{ awesomeThing.title }}"><div class="caption"><h3>{{ awesomeThing.title }}</h3><p>{{ awesomeThing.description }}</p><p><a ng-href="{{awesomeThing.url}}">{{ awesomeThing.url }}</a></p></div></div></div></div></div>'),e.put("app/views/popular/popular.html",'<div class="container"><nav class="navbar navbar-static-top navbar-default navbar-popular"><div class="container-fluid"><div><form class="navbar-form navbar-left" role="search"><div class="form-group"><input type="text" class="form-control" placeholder="Search"></div><button type="submit" class="btn btn-default">Submit</button></form></div></div></nav><div ng-repeat="item in popular.items"><div ng-include="" src="\'app/views/popular/room-list-element-preview.html\'"></div></div></div>'),e.put("app/views/popular/room-list-comment.html",'<div class="media-left"><a href="#"><img class="media-object" src="http://www.lorempixum.com/400/400?id={{ item*comment*6 }}"></a></div><div class="media-body"><h4 class="media-heading">User name:</h4><p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p></div>'),e.put("app/views/popular/room-list-element-preview.html",'<div class="panel panel-default talkabit-panel-room"><div class="panel-heading"><h4>Room Name</h4></div><div class="panel-body"><div class="talkabit-img-container"><div class="talkabit-img-popular thumbnail"><div class="row"><div class="col-xs-6"><img src="http://www.lorempixum.com/400/400?id={{item}}" alt="" class="img-responsive img-thumbnail"></div><div class="col-xs-6"><img src="http://www.lorempixum.com/400/400?id={{item*5}}" alt="" class="img-responsive img-thumbnail"></div></div></div></div><div class="description"><p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p></div><div class="comments"><div><strong>Comments:</strong></div><ul class="media-list"><li class="media" ng-repeat="comment in [1,2]"><div ng-include="" src="\'app/views/popular/room-list-comment.html\'"></div></li></ul></div></div><div class="panel-footer"><span class="label label-default">OPEN</span> <span class="label label-default">CLOSE</span> <button class="btn btn-default">Talk back</button> <button class="btn btn-default">Comment</button></div></div>'),e.put("app/views/record/footer.html",""),e.put("app/views/record/record.html",'<div class="container"><div class="panel panel-default talkabit-panel-record"><div class="panel-heading"><h4>Record Video</h4></div><div class="panel-body"><div class="col-xs-12"><video id="video" class="img-responsive">Video stream not available.</video><video id="videoResult" class="img-responsive" controls="">Video stream not available.</video></div></div></div><audio id="audioResult" class="img-responsive" controls="">Video stream not available.</audio></div><div class="navbar navbar-default navbar-fixed-bottom" role="navigation"><div class="container"><div class="row"><div class="col-xs-4 text-center"></div><div class="col-xs-4 text-center"><button class="btn btn-talkabit-border-less" ng-click="record.recordManager()"><i class="fa fa-circle fa-3x"></i></button></div><div class="col-xs-4 text-center"></div></div></div></div>')}]);
//# sourceMappingURL=../maps/scripts/app-b4c818f3cb.js.map
